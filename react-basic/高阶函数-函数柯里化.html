<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='UTF-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge'>
<meta name='viewport' content='width=device-width, initial-scale=1.0'>
<title>高阶函数-函数柯里化</title>
</head>
<body>
<div id='test'></div>
</body>
<script src='../js/react.development.js'></script>
<script src='../js/react-dom.development.js'></script>
<script src='../js/babel.min.js'></script>
<script type='text/babel'>
  class Demo extends React.Component {
  // 初始化状态
    state = {
      username: '',
      password: '',
    }
    // 存储状态值
    // saveUsername =(e)=>{
    //   this.setState({
    //     username: e.target.value,
    //   })
    // }
    // savePassword = (e)=>{
    //   this.setState({
    //     password: e.target.value,
    //   })
    // }
    saveFormdata = (dataType)=>{
      return (e)=>{
        // console.log(dataType,e.target.value)
        this.setState({
          [dataType]: e.target.value,
        })
      }
    }

    // 表单提交后的回调
    handleSubmit = (event)=>{
      event.preventDefault();
      console.log(this.state)
    }
    render() {
      return (
        <form onSubmit={this.handleSubmit}>
          用户名： <input onChange={this.saveFormdata('username')} type='text' name="username"/>
          密码： <input onChange={this.saveFormdata('password')} type='password' name="password"/>
          <button>登录</button>
        </form>
      )
    }
  }
  ReactDOM.render(<Demo />, document.getElementById("test"));
</script>
</html>